<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Matrícula y Pago de Cursos - Global Learn</title>
  <link rel="stylesheet" href="../../css/rafael/matricula.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container header-content">
      <div class="logo">
        <span class="logo-text">Global Learn</span>
      </div>
      <nav class="nav">
        <a href="#matricula">Matrícula</a>
        <a href="#historial">Historial de Pagos</a>
      </nav>
    </div>
  </header>

  <!-- Main -->
  <main class="container">
    <!-- Matrícula -->
    <section id="matricula" class="card">
      <h2>Matrícula e Inscripción</h2>
      
      <form id="form-matricula">
        <label>Nombre completo</label>
        <input type="text" required>

        <label>Email</label>
        <input type="email" required>

        <label>Teléfono</label>
        <input type="tel" required>

        <label>Documento de identidad</label>
        <input type="text" required>

        <label>Método de pago</label>
        <select id="metodoPago">
          <option value="tarjeta">Tarjeta de crédito</option>
          <option value="paypal">PayPal</option>
          <option value="transferencia">Transferencia</option>
        </select>

        <div id="datosPago" class="pago-dinamico">
          <!-- Campos dinámicos -->
        </div>

        <button type="submit" class="btn-pagar">Pagar e inscribirme</button>
      </form>
    </section>

    <!-- Historial -->
    <section id="historial" class="card">
      <h2>Historial de Pagos</h2>
      <table id="tabla-historial">
        <thead>
          <tr>
            <th>Curso</th>
            <th>Fecha</th>
            <th>Monto</th>
            <th>Método</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container">
      <p>&copy; 2025 Global Learn. Todos los derechos reservados.</p>
    </div>
  </footer>

  <!-- Script -->
  <script>
    const metodoPago = document.getElementById("metodoPago");
    const datosPago = document.getElementById("datosPago");
    const form = document.getElementById("form-matricula");
    const historial = document.querySelector("#tabla-historial tbody");

    metodoPago.addEventListener("change", mostrarCampos);

    function mostrarCampos() {
      const metodo = metodoPago.value;
      datosPago.innerHTML = "";

      if (metodo === "tarjeta") {
        datosPago.innerHTML = `
          <label>Número de tarjeta</label>
          <input type="text" maxlength="16" required>
          <label>Fecha de expiración</label>
          <input type="month" required>
          <label>CVV</label>
          <input type="text" maxlength="3" required>
        `;
      } else if (metodo === "paypal") {
        datosPago.innerHTML = `
          <label>Correo de PayPal</label>
          <input type="email" required>
        `;
      } else if (metodo === "transferencia") {
        datosPago.innerHTML = `
          <p>Realice la transferencia a la cuenta: <strong>123-456789</strong></p>
          <label>Número de operación</label>
          <input type="text" required>
        `;
      }
    }

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const metodo = metodoPago.options[metodoPago.selectedIndex].text;
      const fecha = new Date().toLocaleDateString();
      historial.innerHTML += `
        <tr>
          <td>Curso Online</td>
          <td>${fecha}</td>
          <td>$100</td>
          <td>${metodo}</td>
        </tr>
      `;
      alert("Pago registrado e inscripción realizada con éxito");
      form.reset();
      datosPago.innerHTML = "";
    });
  </script>
</body>
</html>
